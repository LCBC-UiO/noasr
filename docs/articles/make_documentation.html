<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Make documentation pages • MOAS</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Make documentation pages">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MOAS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/MOAS.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/PGS_functions.html">PGS functions</a>
    </li>
    <li>
      <a href="../articles/find-subject-timepoint.html">Find subject timepoint</a>
    </li>
    <li>
      <a href="../articles/make_documentation.html">Make documentation pages</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/LCBC-UiO/MOAS">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Make documentation pages</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/LCBC-UiO/MOAS/blob/master/vignettes/make_documentation.Rmd"><code>vignettes/make_documentation.Rmd</code></a></small>
      <div class="hidden name"><code>make_documentation.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(MOAS)</a></code></pre></div>
<p>In LCBC we have several documentation books that are made in R, and rendered into html and pdf for reading, and hosted online on github. Using the package <a href="https://bookdown.org/yihui/bookdown/">bookdown</a>, these books are based on R Markdown files, and renderes into the necessary other file types based on that through R. While setting up R Markdown to work with pdf for the first time is a bit of a hassle, it is worth the effort, as the resulting documentation is in a nicely readable and ordered format. I highly recommend using the <a href="https://bookdown.org/yihui/bookdown/">bookdown site</a> as a reference manual on how to add things to the documentation, and the Rmarkdown <a href="https://github.com/rstudio/cheatsheets/raw/master/rmarkdown-2.0.pdf">cheatsheet</a> is also very handy!</p>
<p>In order to aid users set up new pages to the different documentation, re-ordering pages, setting-up support files etc., I have made some R functions to help you get started. Since we have several different types of documentation, the functions depend on which documentation you wish toset up a new page (chapter) for.</p>
<div id="editing-documentation-online-on-github" class="section level2">
<h2 class="hasAnchor">
<a href="#editing-documentation-online-on-github" class="anchor"></a>Editing documentation online (on github)</h2>
<p>You may alter the documentation directly online. Doing this is the simplest for those who only need to make minor changes to already existing chapters. It is not recommended to attempt more complex alterations on github than that.</p>
<p>To edit a chapter .Rmd on github, go to the documentation you want to edit (links for each documentation comes below), and click on the .Rmd. <img src="vignette_img/github_edit1.png" alt="Find the Rmd you are looking for and click its name."></p>
<p>In the next window, click on the pencil icon to start editing in the browser. <img src="vignette_img/github_edit2.png" alt="Click on the little pencil-icon to start editing in the browser"></p>
<p>Once the changes you wanted to make are done, scroll to the bottom of the page, type in a message to be added with you changes, and then click “Commit”. <img src="vignette_img/github_edit3.png" alt="Commit your changes"></p>
<p>Once this is done, you changes are saved in the <em>source files</em> for the documentation. This will <strong>not</strong> alter the rendered version yet, someone needs to go over it and render it again. It will be done when someone has the time.</p>
<p>The alternative, to get it rendered immediately, means following the steps to get the documentation edited locally to work.</p>
</div>
<div id="set-up-for-editing-the-documentations-locally" class="section level2">
<h2 class="hasAnchor">
<a href="#set-up-for-editing-the-documentations-locally" class="anchor"></a>Set up for editing the documentations locally</h2>
<div id="git" class="section level3">
<h3 class="hasAnchor">
<a href="#git" class="anchor"></a>git</h3>
<p>git is a system for version control. It is an important aspect of working with the documentation, as we can track the different versions over time and the changes that have been made. We have a small wiki with information on <code>git</code> and links to how to install <code>git</code> on your system <a href="https://github.com/LCBC-UiO/Mini-Workshops/wiki/General%3A-git">here</a>.</p>
</div>
<div id="r-rstudio" class="section level3">
<h3 class="hasAnchor">
<a href="#r-rstudio" class="anchor"></a>R &amp; Rstudio</h3>
<p>We also need to make sure you have R and RStudio installed on your system. We have a minimal set of instructions to help you get started with that <a href="https://github.com/LCBC-UiO/Mini-Workshops/wiki/Analysis%3A-R">here</a>. A key point if you have a Mac, is to <strong>not</strong> use the pre-installed UiO software <code>Software Management System</code> to install your R and RStudio. This tool is not helpful for this and we have experienced a lot of bugs using it. While you technically can edit the documentation without R, it is most easily done with R.</p>
<p>Once R and RStudio is installed, open RStudio and install the required package <a href="https://bookdown.org/yihui/bookdown/">bookdown</a>, so you can edit the book.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="st">"bookdown"</span>)</a></code></pre></div>
<p>Once bookdown is done installing, you might neet to restart R to properly see the difference. When successfully installed, there should be some new <code>Addin</code> options for you in R, that are very convenient.</p>
<p>The most convenient it the shortcut <code>Preview book</code> which will attempt to render to book for you and display it in the RStudio Viewer in the bottom right. Once this had been activated once, it will continue to render the book for each change you save to any document affiliated to the book.</p>
<p><img src="vignette_img/bookdown_addin.png"></p>
<p>There are also some convenience functions for working with our documentation in the MOAS R-package. You can install this and get all those conventient functions by doing do:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="st">"remotes"</span>)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">remotes<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/remotes/topics/install_github">install_github</a></span>(<span class="st">"LCBC-UiO/MOAS"</span>)</a></code></pre></div>
</div>
<div id="latex-for-pdf-outputs" class="section level3">
<h3 class="hasAnchor">
<a href="#latex-for-pdf-outputs" class="anchor"></a>LaTex for pdf outputs</h3>
<p>For the pdf output to be generated you also need a LaTeX version. You will not need to know or touch LaTeX it self, but the program must exist on your computer for pdf’s to be generated.</p>
<p>You will need to get <a href="http://tug.org/mactex/mactex-download.html">mactex</a> for mac, or <a href="http://miktex.org/download">MikTex</a> for windows.</p>
</div>
</div>
<div id="manual" class="section level2">
<h2 class="hasAnchor">
<a href="#manual" class="anchor"></a>Manual</h2>
<p>The manual contains vital information about data gathering procedures and handling at LCBC. This handbook is read by all new staff, and should provide a general guide to how things are done at LCBC. The book does not contain the same type of structure as other documentation, and as such there are no templates etc for setting up new chapters, you can just start adding them, and placing them where you believe they make most sense.</p>
<p>Large changes to the manual <strong>should not</strong> be made without consulting key personell at LCBC.</p>
<pre><code>git clone https://github.com/LCBC-UiO/Manual</code></pre>
<p>This will clone (copy) all of the files necessary to build on the documentation to into a folder called <code>Manual</code> in the folder your terminal is standing in. If you **already have cloned the repository before* there is no point in cloing it again. However, you should make sure you are working on the most recent version. For this you need to navigate into the <code>Manual</code> folder and get the newest version from github. You can do this in the terminal:</p>
<pre><code>cd path/to/Manual
git pull</code></pre>
<p>Once it is downloaded, enter the folder and open the <code>Manual.Rproj</code>.</p>
<p>Once opened, RStudio will have placed your R in the correct working directory and you can start editing files. You can edit already existing file by clicking its name in the <code>Files</code> pane in RStudio(bottom right).</p>
<p>Once all your edits are done, it is important to save the changes to <code>git</code> and send them to github. To do this, click on the <code>Terminal</code> tab in the Console area of RStudio. Here you can work just like in the standard terminal. You will need to <code>add</code> your changes to git, and provide a message when <code>committing</code> the change. Make sure your commit message is meaningful for what you have done, so it is easy to follow the history of changes to the book.</p>
<pre><code>git add .
git commit -m "add your message here, eg added documentation for XX paradigm"</code></pre>
<p>Once you have done so, you may in the terminal, run the <code>_deploy.sh</code> script.</p>
<pre><code>sh _deploy.sh</code></pre>
<p>This will re-render the book in all formats requested, and, commit and push the entire log and changes to github. If you are having troubles rendering the book, let Mo know, she will help you debug.</p>
<p>You will now have sucessfully contributed and re-created the entire book for others to benefit from. Thank you! You can have a look at final pushed book</p>
</div>
<div id="project-documentation" class="section level2">
<h2 class="hasAnchor">
<a href="#project-documentation" class="anchor"></a>Project documentation</h2>
<p>Project documentation is vitally important. We have all experienced forgetting key aspects of data collections and project decisions just within months. This lack of stable memory for project details is especially difficult when academia is also known for its high personell turn-over. In order to keep track of projects, data collection etc. we already have the folder system set-up on the lagringshotell that helps somewhat. However, this system quickly becomes cluttered with many files, and is overwhelming to navigate for new staff.</p>
<p>This is why there is a specific Project documentation book, that should summarise key-aspects of each LCBC project briefly, so people can better understand what these projects are and what to expect from their data. By using the same template for all projects, we can ensure that there is easily accessible and understandable information regarding the projects available.</p>
<p>The older projects have poorer documentation that wanted, so newer projects should aspire to include more information than we currently have available for the older projects. As the style of data collection we have, each chapter is organized by its parent Project, with sub-headings for the different waves of data collection within that project. If not editing information to an already documentet project, by adding a new wave or information to a wave, it is most likely that we will want to add another project (i.e. chapter) to the book.</p>
<p>To work locally with the documentation, clone the source files <a href="https://github.com/LCBC-UiO/Project-documentation">from github</a> in the terminal by:</p>
<pre><code>git clone https://github.com/LCBC-UiO/Project-documentation</code></pre>
<p>This will create a folder called <code>Project-documentation</code> with everything you need. If you **already have cloned the repository before* there is no point in cloing it again. However, you should make sure you are working on the most recent version. For this you need to navigate into the <code>Project-documentation</code> folder and get the newest version from github. You can do this in the terminal:</p>
<pre><code>cd path/to/Project-documentation
git pull</code></pre>
<p>Once it is downloaded, enter the folder and open the <code>Project-documentation.Rproj</code>.</p>
<p>Once opened, RStudio will have placed your R in the correct working directory and you can start editing files. You can edit already existing files, or create a new chapter by using a function in the MOAS R-package:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">MOAS<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/MOAS/topics/docs_project_page">docs_project_page</a></span>(<span class="dt">project_acronym =</span>  =<span class="st"> "MemP"</span>, <span class="dt">project_number =</span> <span class="dv">11</span>)</a></code></pre></div>
<p>This function takes two arguments. The project acronym and number should be the same as in the rest of our system, and should mirror information in the MOAS, the lagringshotell folder set-up etc.</p>
<p>This will create and open an <code>.Rmd</code> (R markdown) file from a template and you can start adding the information needed.</p>
<p>A general good hint when creating each chapter is to look at how other already completed chapters look like, and try to mimmick that format.</p>
<p>Once you have edited your chapter, and are quite satisfied (or whenever you feel like it really), you should run a command that rearranges and renames the <code>.Rmd</code> files for the chapters in the correct numerical order.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">MOAS<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/MOAS/topics/docs_project_order_chapter">docs_project_order_chapter</a></span>()</a></code></pre></div>
<p>This function will find the appendix chapter and give it a new chapter number, to make sure it always appears at the end of the book. Once all this is done, it is important to save the changes also to <code>git</code> and send them to github. To do this, click on the <code>Terminal</code> tab in the Console area of RStudio. Here you can work just like in the standard terminal. You will need to <code>add</code> your changes to git, and provide a message when <code>committing</code> the change. Make sure your commit message is meaningful for what you have done, so it is easy to follow the history of changes to the book.</p>
<pre><code>git add .
git commit -m "add your message here, eg added documentation for XX project"</code></pre>
<p>Once you have done so, you may in the terminal, run the <code>_deploy.sh</code> script.</p>
<pre><code>sh _deploy.sh</code></pre>
<p>This will re-render the book in all formats requested, aadd, commit and push the entire log and changes to github. You will now have sucessfully contributed and re-created the entire book for others to benefit from. Thank you! You can have a look at final pushed book.</p>
</div>
<div id="paradigm-documentation" class="section level2">
<h2 class="hasAnchor">
<a href="#paradigm-documentation" class="anchor"></a>Paradigm documentation</h2>
<p>Documenting the different paradigms we use is incerdibly important. Imaging running a computer task in 2008, and then having a researcher wanting to investigate in 2018 if that data is something they are interested in. Without any proper documentation, the researcher needs to do all background information gathering them selves, asking several people in the lab to figure out what the rationale behind the task is, where it was aqcuired from, who else has used it, has the lab published based on that task before etc.. After 10 years, it may be that only our main PI’s are still working at LCBC and have any knowledge about it, but they are busy andmight not really have detailed information about the task. If the task was already documented, the researcher could just read the documentation, and have a general idea about what this data is about and whether it is of interest.</p>
<p>The paradigm documentation is stored on <a href="https://github.com/LCBC-UiO/Paradigm-documentation">github</a>, and you can clone it locally to your machine to work with using <code>git</code> in your terminal:</p>
<pre><code>git clone https://github.com/LCBC-UiO/Paradigm-documentation</code></pre>
<p>This will clone (copy) all of the files necessary to build on the documentation to into a folder called <code>Paradigm_documentation</code> in the folder your terminal is standing in. If you **already have cloned the repository before* there is no point in cloing it again. However, you should make sure you are working on the most recent version. For this you need to navigate into the <code>Paradigm_documentation</code> folder and get the newest version from github. You can do this in the terminal:</p>
<pre><code>cd path/to/Paradigm_documentation
git pull</code></pre>
<p>Once it is downloaded, enter the folder and open the <code>Paradigm-documentation.Rproj</code>.</p>
<p>Once opened, RStudio will have placed your R in the correct working directory and you can start editing files. You can edit already existing files, or create a new chapter by using a function in the MOAS R-package:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1">MOAS<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/MOAS/topics/docs_paradigm_page">docs_paradigm_page</a></span>(<span class="dt">name =</span> <span class="st">"new_paradigm"</span>, <span class="dt">type =</span> <span class="st">"rt"</span>)</a></code></pre></div>
<p>This function takes two main arguments a <code>name</code> for the new chapter, which should be the paradigm acronym, and a <code>type</code> depending on whether the task is a response time (rt), stimulus presentation (sp), event related potential (erp) or functional MRI (fmri) paradigm. Using the type, we can make sure the chapters are ordered in the correct sequence and numbered correctly. Once this command has been executed, the paradigm <code>.Rmd</code> file will be created in the right location and opened, togehter with a <code>.bib</code> file. The <code>.bib</code> file is for storing bibTex citations for use in the chapter. If you do not know how to use bib, don’t worry, just make sure to indicate in your <code>.Rmd</code> file where which citation should go, and ask someone experienced (like Mo) about how to create and insert bibTex citations.</p>
<p>A general good hint when creating each chapter is to look at how other already completed chapters look like, and try to mimmick that format.</p>
<p>Once you have edited your chapter, and are quite satisfied (or whenever you feel like it really), you should run a command that rearranges and renames the <code>.Rmd</code> files for the chapters in the correct numerical order.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">MOAS<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/MOAS/topics/docs_paradigm_order_chapter">docs_paradigm_order_chapter</a></span>()</a></code></pre></div>
<p>This function will automatically rename the chapters prefixing them with the correct numerical value for each chapter, making sure similar sections follow eachother in the row. Once all this is done, it is important to save the changes also to <code>git</code> and send them to github. To do this, click on the <code>Terminal</code> tab in the Console area of RStudio. Here you can work just like in the standard terminal. You will need to <code>add</code> your changes to git, and provide a message when <code>committing</code> the change. Make sure your commit message is meaningful for what you have done, so it is easy to follow the history of changes to the book.</p>
<pre><code>git add .
git commit -m "add your message here, eg added documentation for XX paradigm"</code></pre>
<p>Once you have done so, you may in the terminal, run the <code>_deploy.sh</code> script.</p>
<pre><code>sh _deploy.sh</code></pre>
<p>This will re-render the book in all formats requested, aadd, commit and push the entire log and changes to github. You will now have sucessfully contributed and re-created the entire book for others to benefit from. Thank you! You can have a look at final pushed book</p>
</div>
<div id="moas-documentation" class="section level2">
<h2 class="hasAnchor">
<a href="#moas-documentation" class="anchor"></a>MOAS documentation</h2>
<p>no information yet</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#editing-documentation-online-on-github">Editing documentation online (on github)</a></li>
      <li><a href="#set-up-for-editing-the-documentations-locally">Set up for editing the documentations locally</a></li>
      <li><a href="#manual">Manual</a></li>
      <li><a href="#project-documentation">Project documentation</a></li>
      <li><a href="#paradigm-documentation">Paradigm documentation</a></li>
      <li><a href="#moas-documentation">MOAS documentation</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Athanasia Mo Mowinckel.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
